# Statistical Concepts

- 데이터 분석을 할 때, 데이터의 의미있는 부분을 말해야 한다.

- 데이터셋에서 발생하는 변화나 차이가 '실제'인지 아니면 평범한 변화나 특정 표본의 결과인지 알아야한다.

- 데이터에서 보여지는 차이는 그것이 전체 모집단을 대표하는지, 그리고 결과가 반복되는것이 합당할 때에만 중요하게 여겨진다.

## Sample Mean and Population Mean

- 공원에 있는 오크나무들의 평균 높이를 구하려고 한다.

>월요일날 10개의 나무 높이 샘플을 얻었고 평균 32ft였다.
화요일날 12개의 나무 높이 샘플을 얻었고 평균 35ft였다.
수요일날 나머지 11개의 나무 높이 샘플을 얻었고 평균 31ft였다.
전체 나무의 평균은 32.8ft다.

- 요일별로 얻은 나무의 높이를 샘플(표본)이라고한다. 그리고 표본은 전체 모집단의 부분 집합이다.

- 각 표본의 평균은 표본 평균이며 모집단 평균의 추정치이다.

- 요일별로 얻은 나무 높이의 평균은 모집단 평균과 비슷하다. 하지만 각기 조금씩 다르다.

- 모집단의 경우 평균값은 몇번을 계산해도 항상 고정된 수치이다. 하지만 샘플의 경우 어떤 샘플을 골랐는지에 따라 평균값이 달라진다.

- 표본 평균에서 모집단 전체의 평균을 추정할 수 있고, 표본을 이용하는 여러가지 이유가 있다.
  1. 전체 모집단의 데이터가 없을 때
  2. 모집단의 데이터가 전부 있지만 너무 방대한 양이라서 분석이 불가능할 때
  3. 샘플링을 통해 빠르게 의미있는 답을 얻을 수 있어서

## Central Limit Theorem (중앙 극한 정리)

- 중학교 교복 재단사가 되었다고 생각해보자.

>유니폼의 크기를 정하기 위해 10세에서 13세 아이들의 평균 신장을 알아야한다.
몇몇 학생의 신장을 재었고 평균 57.5인치였다.
300명의 학생중 30명의 학생의 키를 재놓고 중학교의 모든 학생의 평균키라고 가정할 수 있는 충분한 데이터라고 생각했다.
이 평균키를 가지고 교복을 만들었고 일부는 좀 더 크게, 일부는 좀 더 작게 만들었다.
불행히도 얼마안가 교복이 너무 작다는 클레임이 계속 들어왔고 결정에 오류가 있었다는 것을 깨달았다.
나머지 데이터를 수집하기 위해, 하루는 6학년 학생들의 키를 쟀고 (평균 56.7인치, 나쁘지않았다.)
다음날은 7학년 학생들(59인치, 평균보다 크다.) 그 다음날은 8학년 학생들(61.7인치...!)의 키를 쟀다.
표본평균이 모집단평균과 크게 차이가 있었다.
이러한 문제가 왜 생겼을까?

- 데이터의 표본을 정할 때 너무 한쪽으로 치우쳐졌다. 중학교 전체를 대표한다기 보다 6학년 학생들을 대표하는 표본이었던 것으로 보인다.

- 그렇다면 모집단 평균과 비슷한 표본 평균은 어떻게 얻을까?

- 이는 표본이 표본이 속한 모집단보다 적은 데이터를 가지고 있다는 사실의 자연스러운 결과이다.

- 표본 선택이 잘못되면 표본 평균이 모집단 평균과 심각하게 왜곡된다.

- 한가지 확실한 방법은 더 많은 양의 샘플을 가져오는 것이다.

- 더 큰 표본의 평균은 모집단 평균에 더 가깝다.

- **Central Limit Theorem** (중앙 극한 정리)으로 알려진 이 현상은 표본 크기가 충분히 크면 모든 표본 평균이 모집단 평균에 충분히 가깝다는 것을 나타낸다.

## Hypothesis Tests

- 데이터의 차이를 관찰할 때 데이터 분석가는 이러한 차이가 임의 확률의 결과일 수 있는 가능성을 알고있다.

> 컴퓨터 프로그래밍 수업에 남자가 여자보다 등록할 가능성이 더 높은지 알고싶다고 가정해보자.
이 수업에 남자 100명, 여자 100명을 초대하고 일주일 후 남자 39명, 여자 34명이 등록했다.
여자보다 남자가 더 많이 등록했지만 이것이 '실제' 차이 일까?

- 우린 남성과 여성의 두가지 모집단에서 표본을 추출했고, 이 표본 평균에서 나타난 차이가 모집단 평균의 차이를 반영하는지 알고싶다.

- 남녀가 이 수업에대해 같은 수준의 관심을 가지고 있을까? 우리가 관찰한 차이는 우연일까? 를 질문해봐야 한다.

- 다시말해 전세계 모든 사람들을 초대했을 때 같은 결과가 나올것인가?

- 공식적인 질문으론 두 모집단 평균이 같고 표본 평균에서 관찰된 차이가 우연일 확률은 얼마나되는가?

- 이러한 질문들은 귀무가설을 표현하는 모든 방법이다.
  - 귀무가설?
    >무죄 추정의 원칙과 같은 맥락으로 기본적으로 참으로 추정되며 이를 거부하기 위해선 증거가 꼭 필요하다는 이론이다.
    예를 들어 남학생과 여학생들의 두 성적 샘플을 비교해 볼 때, 귀무가설은 남학생들과 여학생들의 평균이 같은 것이라는 것이다.

  - 귀무가설과 대립가설
    >연구는 검증해야 할 가설을 필요로 하는데, 일반적으로 연구에서 검증하는 가설을 귀무가설이라 하고, 귀무가설과 반대되는 가설을 대립가설이라고 한다. 대립가설은 연구자가 연구를 통해 입증되기를 기대하는 예상이나 주장하는 내용이다.
    1. 귀무가설을 만들고 (기호는 H0)
        > 남성과 여성의 보수는 같다.
    2. 대립가설을 만든다. (기호 Ha or H1)
        > 남성은 여성보다 보수가 더 많다.
    3. 검정 통계를 만들고 측정한다.
        > 검정 통계는 랜덤 값이다.
    4. 의사결정을 한다.
        - H1에 대한 증거가 충분하다면 H0를 기각하고 H1을 받아들인다.
        - H1에 대한 증거가 불충분한 경우 H0를 기각하지 않는다.
        >(재판을 예로 들 수 있다.)

- Hypothesis testing (가설 검정)은 귀무 가설이 거짓인지 확신할 수 있는지의 여부를 결정하는 수학적인 방법이다. 상황에 따라 다른 유형의 가설 검정이 필요하다.

## Type I Or Type II

- 자동화 프로세스에 의존해 의사결정을 내릴 때 이 자동화 프로세스가 어떻게 실수를 초래할 수 있는지 알아야한다.

- 컴퓨터 프로그램은 그것을 만든 사람만큼이나 오류가 있다. 프로그래밍을 하는 사람으로서 잘못될 수 있는것과 이러한 예측 가능한 문제를 해결하기 위해 무엇을 할 수 있는지 이해해야 할 책임이 있다.

- 통계적 가설 검정에서 우린 주로 두가지 종류의 에러를 염려한다.

1. 관련이 없는 것들 사이에서 상관관계를 찾는 오류
    - "False Positive" (거짓 양성) 라고 불리기도 하며 귀무가설이 참이더라도 거부될 때 발생
        >예를들어 온라인 상점에 대해 A/B 테스트를 수행하는데 결제 페이지로 접속한 트래픽이 인터페이스 B가 인터페이스 A보다 더 낫다고 했을 때
        당신은 두 인터페이스간에 차이가 없다는 귀무가설을 기각했다.
        만약 그 결과는 우연히 선택한 그룹에 의한 결과였고, 실제 모집단에서 인터페이스 A와 인터페이스 B의 차이가 없을 때 당신은 "False Positive" (거짓 양성)의 피해자가 된것이다.

2. 실제로 관련이 있는 데이터 사이의 상관관계를 찾지 못했을 때
    - "False Negative" (거짓 음성) 라고 불리며, 귀무 가설이 거짓일지라도 참으로 받아들여질 때 발생

        >예를들어 A/B 테스트와 같은 상황에서 테스트 후 인터페이스간의 차이가 없다고 결론을 내렸는데
        실제로 전체 모집단에 차이가 있는 경우엔 거짓 음성이라고 한다.

>1종오류 : 귀무가설을 잘못 기각하는 오류
2종오류 : 귀무가설을 잘못 채택하는 오류

## P-Values

- 가설검정은 p-value라는 숫자로 표현되고, 결과에 대한 확신을 결졍하는데 도움이 된다.

- p-value는 귀무가설이 참이라는 가정하게 측정된 통계량을 산출 할 확률이다.

- p-value가 0.05이면 귀무가설이 참이라고 가정 할 때 무작위 샘플링 오류가 생길 확률이 5%라는 것을 의미한다.

- 또 이는 일반적으로 두 모집단 평균간에 차이가 없을 확률이 5%라는것을 의미한다.

- 가설 테스트를 수행하고 결론을 내리기 전 필요한 임계값을 결정한다.

- p-value가 높을수록 false positive가 발생할 가능성이 높아지기 때문에 결과가 우연이 아니라고 확신하려면 매우 작은 p-value를 선택해야한다.

- p-value를 산출하기 위한 가설검정을 수행하기 전 유의수준을 선택하는 것이 중요하다.

- 결과를 볼 때까지 기다리면 원하는 결과를 얻도록 임계값을 선택할 수 있다.

- 예를들어 결과를 게시하려는 경우 결과가 통계적으로 유의 해보이도록 유의 수준을 설정할 수 있다. 유의 수준을 미리 선택하면 정직한 결과를 얻는데 도움이된다.

- 일반적으로 0.05보다 작은 p-value값을 설정해야한다. 즉 5% 미만의 확률로 결과가 임의확률로 인한 것일 수 있다는 뜻이다.
